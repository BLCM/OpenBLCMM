Developing OpenBLCMM
====================

*(this is gonna be real barebones for awhile)*

OpenBLCMM was developed using NetBeans, most recently with NetBeans IDE 16.

The currently-checked-in project expects a NetBeans Java platform named
"`JDK_19`" -- you can get to that via NetBeans' `Tools -> Java Platforms`.
If you've already got a JDK 19 installed under a different name, you could
try renaming it, or alter the configured Java environment to suit.
Alternatively, you could create a new environment and just point it at
the same directory as your existing Java Environment.

Once the project's been opened up in Netbeans and the `JDK_19` platform is
available, you should be able to just run it via the GUI -- there'll be a
green "Play" icon in the main toolbar, or various menu options.

Library Bundling
----------------

OpenBLCMM uses a few third-party libraries for various things, and I felt
it'd be nice to not have to distribute extra Jars along with the app jar
itself.  Eclipse apparently has a setting to create a "fat" Jar which
includes both the project classes and all third-party-lib classes in a
single Jar.  That's not "natively" supported by Netbeans' default `build.xml`,
but it's easy enough to hack it in there.

Various places online will recommend creating a brand new target for it,
but I decided to just make use of the `-post-jar` target.  The base Ant
config was taken from [this stackoverflow post](https://stackoverflow.com/questions/70526988/netbeans-how-to-create-an-executable-jar-file-with-all-libraries-and-source-fi)
but it's been modified pretty extensively since.  That composite-jar
build gets triggered automatically whenever the "jar" target is called,
so you shouldn't have to think about it.  The original "skinny" Jar
generated by Netbeans default remains inside the `dist/` directory
(and its third-party libs in `dist/lib/`), whereas the "fat" Jar gets
put inside `store/`.

Then for anyone wanting to use the "pure" Java version, the only file we
need to distribute is `OpenBLCMM.jar` from that `store` dir, though in
practice we'll also include at least a `.sh` and `.bat` for easier
launching.

Note that due to some filename mapping stuff we're doing to avoid
collisions in the combined Jarfile, if we ever add in new third-party
libraries, our `build.xml` will have to be updated to support the new
lib file.

Compiling for Windows
---------------------

See the [`windows-processing` directory](windows-processing/) for
information on compiling the "native" EXE version (and its installer)
for Windows.

